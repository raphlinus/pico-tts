use std::borrow::Cow;

pub struct Phoneme {
    pub kind: Kind,
    pub ks: Cow<'static, [f64]>,
    pub rms: f64,
}

pub enum Kind {
    Vowel,
}

impl Phoneme {
    const fn vowel(ks: &'static [f64], rms: f64) -> Self {
        Self {
            kind: Kind::Vowel,
            ks: Cow::Borrowed(ks),
            rms,
        }
    }
}

const PHONEMES: &[(&'static str, Phoneme)] = &[
    (
        "ʊ",
        Phoneme::vowel(
            &[
                -0.748, 0.401, -0.448, -0.010, 0.112, 0.193, -0.147, 0.616, -0.303, -0.050, 0.015,
                0.001, -0.205, 0.215, 0.263, 0.494, 0.208, 0.087,
            ],
            223.,
        ),
    ),
    (
        "ɛ",
        Phoneme::vowel(
            &[
                -0.592, 0.564, -0.505, 0.582, -0.045, -0.287, -0.177, 0.133, -0.070, -0.040, 0.325,
                -0.002, 0.006, 0.341, 0.245, 0.357, -0.046, 0.211,
            ],
            356.,
        ),
    ),
    (
        "u",
        Phoneme::vowel(
            &[
                -0.484, 0.374, 0.044, -0.200, 0.009, 0.017, -0.456, -0.070, 0.008, -0.057, -0.083,
                0.222, 0.096, 0.005, -0.006, 0.671, 0.135, -0.003,
            ],
            241.,
        ),
    ),
    (
        "ɪ",
        Phoneme::vowel(
            &[
                -0.449, 0.528, -0.035, 0.110, -0.074, 0.198, -0.497, 0.000, 0.058, -0.250, -0.050,
                0.125, 0.003, 0.070, 0.313, 0.357, -0.084, 0.207,
            ],
            348.,
        ),
    ),
    (
        "æ",
        Phoneme::vowel(
            &[
                -0.662, 0.660, -0.307, 0.301, -0.005, 0.113, 0.028, 0.298, -0.351, 0.499, -0.261,
                -0.171, 0.194, 0.260, 0.109, 0.372, -0.031, -0.046,
            ],
            404.,
        ),
    ),
    (
        "ɑ",
        Phoneme::vowel(
            &[
                -0.730, 0.444, -0.443, 0.548, 0.059, 0.195, 0.332, 0.306, -0.301, 0.331, -0.277,
                -0.032, 0.014, 0.151, 0.228, 0.455, -0.122, 0.037,
            ],
            374.,
        ),
    ),
];

pub fn get_phoneme(s: &str) -> Option<&'static Phoneme> {
    for (name, ph) in PHONEMES {
        if *name == s {
            return Some(ph);
        }
    }
    None
}
